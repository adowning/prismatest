# Migration `20201126004821-5`

This migration has been generated by adowning at 11/25/2020, 6:48:21 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Account" (
    "id" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL,
    "acquisitionDate" TIMESTAMP(3),
    "accountName" TEXT,
    "alert" BOOLEAN,
    "address2" TEXT,
    "commercial" BOOLEAN,
    "city" TEXT,
    "accountID" TEXT,
    "companyID" TEXT,
    "companyName" TEXT,
    "email" TEXT,
    "firstName" TEXT,
    "lastName" TEXT,
    "state" TEXT,
    "taxExempt" BOOLEAN,
    "taxID" TEXT,
    "zip" TEXT,
    "phone1" TEXT,
    "lastInvoiceDate" TIMESTAMP(3),
    "averageInvoice" DECIMAL(65,30),
    "invoiceCount" DECIMAL(65,30),
    "lastEstimateCreatedDate" TEXT,
    "lastInvoiceAmount" DECIMAL(65,30),
    "searchAddress" TEXT,
    "lastJobAmount" DECIMAL(65,30),
    "lat" DECIMAL(65,30),
    "lng" DECIMAL(65,30),
    "placeid" TEXT,
    "formatted_address" TEXT,
    "phone2" TEXT,
    "phone3" TEXT,

    PRIMARY KEY ("id")
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201125235433-fourth..20201126004821-5
--- datamodel.dml
+++ datamodel.dml
@@ -1,16 +1,11 @@
-datasource db {
-  provider = "postgresql"
-  url = "***"
-}
-
 generator client {
   provider = "prisma-client-js"
-  // previewFeatures = []
 }
-generator dbml {
-  provider = "prisma-dbml-generator"
+datasource db {
+  provider = "postgresql"
+  url = "***"
 }
 model User {
   id        String    @id @default(cuid())
@@ -19,11 +14,11 @@
   email     String    @unique
   password  String
   firstname String?
   lastname  String?
-  posts     Post[]
   role      Role
   Comment   Comment[]
+  posts     Post[]
 }
 model Post {
   id        String   @id @default(cuid())
@@ -31,40 +26,30 @@
   updatedAt DateTime @updatedAt
   published Boolean
   title     String
   content   String?
+  authorId  String?
   author    User?    @relation(fields: [authorId], references: [id])
-  authorId  String?
 }
-enum OrderType {
-  ESTIMATE
-  INVOICE
-  VOIDED
-  WORKORER
-}
-
 model Comment {
-  id        String   @id @default(cuid())
-  createdAt DateTime @default(now())
-  author    User?    @relation(fields: [authorId], references: [id])
-  authorId  String?
-
+  id          String     @id @default(cuid())
+  createdAt   DateTime   @default(now())
+  authorId    String?
+  workorderId String?
+  author      User?      @relation(fields: [authorId], references: [id])
   Workorder   Workorder? @relation(fields: [workorderId], references: [id])
-  workorderId String?
 }
 model Workorder {
-  id        String   @id @default(cuid())
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
-
+  id                String     @id @default(cuid())
+  createdAt         DateTime   @default(now())
+  updatedAt         DateTime   @updatedAt
   imported          Boolean?
   orderID           String
   accountID         String
   accountName       String
   address1          String?
-  refNumber         String?
   city              String?
   state             String?
   zip               Int?
   companyID         String?
@@ -85,12 +70,55 @@
   taxRate           Int?
   taxTotal          Int?
   userName          String?
   merchantFeesTotal Int?
+  refNumber         String?
   comments          Comment[]
+}
+model Account {
+  id                      String    @id @default(cuid())
+  createdAt               DateTime  @default(now())
+  updatedAt               DateTime  @updatedAt
+  acquisitionDate         DateTime?
+  accountName             String?
+  alert                   Boolean?
+  address2                String?
+  commercial              Boolean?
+  city                    String?
+  accountID               String?
+  companyID               String?
+  companyName             String?
+  email                   String?
+  firstName               String?
+  lastName                String?
+  state                   String?
+  taxExempt               Boolean?
+  taxID                   String?
+  zip                     String?
+  phone1                  String?
+  lastInvoiceDate         DateTime?
+  averageInvoice          Float?
+  invoiceCount            Float?
+  lastEstimateCreatedDate String?
+  lastInvoiceAmount       Float?
+  searchAddress           String?
+  lastJobAmount           Float?
+  lat                     Float?
+  lng                     Float?
+  placeid                 String?
+  formatted_address       String?
+  phone2                  String?
+  phone3                  String?
 }
+enum OrderType {
+  ESTIMATE
+  INVOICE
+  VOIDED
+  WORKORER
+}
+
 enum Role {
   ADMIN
   USER
 }
```


